#include <stdio.h>
#include <math.h>
#include <string.h>
#include <stdlib.h>

// Função para ordenar os dígitos de um número em ordem crescente
int ordernarDigitos(int num) {
    int digitos[10] = {0}; // Inicializa um array para contar a frequência dos dígitos
    int novo_num = 0;

    // Conta a frequência dos dígitos no número
    while (num > 0) {
        int digito = num % 10;
        digitos[digito]++;
        num /= 10;
    }

    // Cria o novo número com os dígitos ordenados
    for (int i = 0; i < 10; i++) {
        while (digitos[i] > 0) {
            novo_num = novo_num * 10 + i;
            digitos[i]--;
        }
    }

    return novo_num;
}

// Função de comparação para a função qsort
int comparar(const void *a, const void *b) {
    return (*(int *)a - *(int *)b);
}

int main() {

    int array1[1148] = {297, 445, 994, 610, 482, 671, 916, 796, 853, 565, 391, 692, 622, 275, 896, 870, 509, 371, 695, 582, 368, 740, 727, 192, 591, 732, 492, 282, 559, 706, 486, 129, 232, 171, 306, 386, 562, 113, 932, 746, 125, 979, 420, 413, 755, 611, 406, 723, 317, 885, 353, 369, 529, 450, 245, 528, 347, 428, 682, 565, 899, 664, 598, 819, 405, 377, 930, 210, 245, 250, 921, 580, 300, 175, 110, 326, 740, 353, 893, 299, 865, 772, 224, 891, 468, 337, 404, 737, 759, 705, 594, 155, 881, 262, 356, 102, 397, 543, 556, 955, 988, 746, 238, 211, 297, 527, 274, 369, 459, 936, 115, 867, 657, 208, 491, 207, 465, 669, 729, 157, 773, 327, 744, 131, 306, 587, 570, 742, 995, 948, 591, 312, 947, 377, 707, 380, 104, 832, 897, 733, 958, 358, 637, 146, 478, 856, 905, 130, 717, 826, 925, 699, 542, 150, 112, 863, 463, 643, 262, 606, 598, 245, 345, 558, 590, 786, 534, 889, 950, 133, 790, 476, 487, 315, 598, 170, 654, 885, 686, 488, 466, 700, 496, 835, 235, 691, 990, 402, 759, 781, 929, 901, 179, 293, 239, 697, 628, 685, 237, 217, 728, 404, 342, 414, 395, 592, 557, 416, 701, 716, 576, 168, 499, 866, 324, 365, 463, 871, 608, 600, 485, 549, 286, 462, 322, 421, 594, 418, 324, 542, 940, 798, 316, 365, 359, 918, 654, 310, 938, 666, 675, 485, 683, 408, 707, 756, 674, 811, 952, 537, 245, 163, 899, 203, 329, 873, 573, 267, 712, 699, 960, 135, 571, 540, 146, 955, 596, 611, 613, 439, 403, 588, 479, 775, 474, 586, 963, 109, 810, 824, 918, 302, 648, 568, 602, 887, 673, 747, 442, 355, 885, 561, 996, 886, 257, 735, 345, 615, 413, 679, 132, 677, 615, 960, 437, 275, 975, 367, 987, 129, 851, 126, 491, 435, 113, 155, 579, 831, 706, 647, 366, 549, 438, 452, 538, 944, 625, 876, 286, 884, 533, 488, 119, 776, 972, 657, 866, 780, 471, 663, 760, 991, 105, 878, 860, 677, 710, 532, 877, 237, 296, 485, 395, 876, 837, 804, 427, 929, 784, 756, 770, 872, 617, 989, 969, 640, 485, 303, 752, 634, 647, 914, 134, 949, 580, 668, 876, 179, 117, 496, 828, 824, 362, 812, 771, 473, 388, 538, 108, 182, 924, 834, 819, 969, 285, 869, 378, 957, 552, 804, 735, 326, 880, 628, 852, 465, 237, 857, 707, 132, 778, 370, 625, 151, 707, 750, 865, 333, 708, 621, 789, 957, 674, 390, 187, 379, 320, 779, 750, 692, 599, 696, 992, 484, 625, 939, 853, 494, 343, 538, 417, 584, 117, 558, 681, 283, 484, 782, 804, 675, 689, 947, 919, 287, 550, 817, 589, 428, 842, 940, 387, 238, 839, 429, 607, 945, 153, 559, 975, 771, 913, 461, 333, 909, 418, 202, 133, 513, 419, 822, 310, 194, 600, 153, 870, 689, 421, 507, 940, 175, 337, 238, 226, 487, 606, 283, 766, 451, 570, 875, 959, 276, 579, 824, 828, 269, 988, 586, 860, 726, 251, 555, 702, 953, 450, 767, 553, 506, 521, 437, 928, 753, 870, 811, 451, 676, 961, 270, 782, 772, 464, 125, 929, 279, 726, 344, 987, 980, 992, 378, 823, 834, 445, 424, 841, 142, 817, 753, 429, 364, 551, 847, 482, 687, 319, 573, 308, 880, 905, 230, 453, 217, 377, 674, 983, 750, 211, 995, 751, 579, 557, 599, 154, 813, 310, 896, 259, 904, 864, 515, 512, 495, 957, 568, 811, 506, 655, 640, 380, 498, 446, 716, 114, 768, 791, 824, 629, 735, 490, 455, 819, 420, 235, 916, 230, 877, 644, 481, 360, 329, 199, 818, 490, 832, 184, 349, 308, 137, 105, 709, 664, 822, 708, 698, 168, 117, 125, 837, 791, 817, 200, 566, 513, 776, 198, 715, 899, 341, 949, 322, 385, 956, 983, 105, 717, 241, 290, 173, 661, 608, 291, 655, 272, 387, 442, 266, 600, 741, 392, 982, 775, 744, 340, 905, 719, 477, 434, 601, 776, 611, 817, 202, 710, 131, 755, 863, 808, 282, 767, 552, 920, 900, 254, 845, 259, 139, 162, 613, 774, 970, 350, 952, 274, 320, 728, 590, 883, 833, 795, 385, 513, 877, 367, 693, 546, 142, 681, 589, 291, 929, 589, 834, 772, 338, 338, 735, 380, 458, 977, 152, 160, 404, 596, 167, 950, 155, 167, 137, 968, 729, 338, 473, 552, 268, 200, 907, 928, 519, 818, 457, 195, 315, 273, 732, 238, 124, 243, 570, 838, 968, 716, 517, 710, 343, 667, 920, 504, 740, 395, 455, 204, 618, 334, 814, 614, 435, 882, 950, 217, 363, 765, 548, 196, 796, 143, 321, 816, 391, 760, 102, 603, 190, 161, 523, 570, 624, 572, 956, 847, 309, 710, 846, 494, 676, 394, 672, 609, 885, 931, 506, 690, 373, 702, 371, 821, 969, 497, 927, 749, 248, 836, 170, 951, 439, 253, 184, 939, 306, 709, 315, 674, 656, 830, 246, 402, 542, 700, 522, 452, 622, 546, 758, 557, 730, 521, 850, 519, 621, 213, 241, 896, 566, 284, 911, 295, 376, 450, 926, 111, 394, 857, 876, 577, 113, 918, 919, 144, 370, 470, 233, 697, 933, 728, 927, 400, 168, 779, 400, 608, 516, 122, 384, 759, 892, 879, 261, 125, 583, 821, 605, 897, 183, 776, 728, 773, 584, 994, 547, 131, 615, 186, 242, 658, 178, 857, 584, 512, 182, 561, 325, 901, 509, 813, 155, 519, 795, 581, 911, 187, 505, 620, 179, 762, 268, 967, 827, 337, 403, 952, 533, 336, 417, 356, 287, 853, 704, 175, 902, 316, 418, 731, 450, 223, 307, 744, 510, 671, 828, 644, 728, 101, 827, 780, 780, 509, 547, 821, 796, 562, 716, 336, 552, 899, 582, 631, 960, 201, 622, 499, 628, 587, 960, 417, 618, 507, 966, 704, 430, 394, 553, 214, 195, 270, 357, 245, 143, 814, 337, 702, 313, 827, 525, 607, 357, 194, 973, 982, 294, 173, 594, 277, 417, 525, 205, 174, 190, 190, 363, 356, 771, 439, 195, 668, 329, 514, 586, 242, 191, 392, 665, 393, 438, 740, 338, 147, 148, 268, 102, 387, 247, 632, 403, 474, 332, 573, 499, 506, 499, 398, 788, 402, 880, 474, 899, 303, 789, 289, 717, 781, 296, 277, 842, 251, 764, 636, 535, 688, 280, 450, 647, 286, 196, 124, 362, 886, 907, 365, 545, 268, 672, 408, 908, 992, 253, 300, 911, 779, 478, 254, 476, 648, 290, 146, 400, 126, 799, 515, 552, 366, 394, 960, 101, 634, 353, 339, 307, 342, 527, 582, 897, 326, 711, 160, 239, 538, 928, 549, 909, 473, 659, 652, 913, 511, 336, 942, 833, 915, 401, 924, 872, 275, 587, 980, 776, 908, 902, 863, 698, 730, 857, 313, 501, 973, 543, 724, 324, 615, 115, 392, 317, 942, 213, 824, 946, 733, 930, 105, 986, 669, 386, 934, 595, 332, 744, 229, 570, 394, 128};
    int frequencia[10000] = {0}; // Array para contar a frequência de cada número resultante
    int max_frequencia = 0;
    int numero_mais_frequente;

    // Ordena os dígitos de cada elemento do array e conta a frequência de cada número resultante
    for (int i = 0; i < sizeof(array1) / sizeof(array1[0]); i++) {
        int numero_ordernado = ordernarDigitos(array1[i]);
        frequencia[numero_ordernado]++;
        if (frequencia[numero_ordernado] > max_frequencia) {
            max_frequencia = frequencia[numero_ordernado];
            numero_mais_frequente = numero_ordernado;
        }
    }

    printf("Sequência mais frequente: %d\n\n", numero_mais_frequente);

    int array[] = {132, 456, 261, 4830};
    int array_res[4];
    int k = 2; // Índice do elemento desejado

    // Ordena os dígitos de cada elemento do array original e armazena no array_res
    for (int i = 0; i < sizeof(array) / sizeof(array[0]); i++) {
        array_res[i] = ordernarDigitos(array[i]);
    }

    // Ordena o array_res
    qsort(array_res, sizeof(array_res) / sizeof(array_res[0]), sizeof(int), comparar);

    // Imprime o elemento de índice k do array_res
    printf("Elemento %d: %d\n", k, array_res[k]);


    return 0;
}